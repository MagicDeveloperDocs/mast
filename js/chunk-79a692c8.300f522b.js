(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-79a692c8"],{"2c67":function(t,e,a){},"4d1e":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"farms"},[a("div",{staticClass:"main"},[a("div",{staticClass:"farms-banner center"},[a("div",{staticClass:"farms-banner-cont"},[a("h4",[t._v(t._s(t.$t("流动性协议")))]),a("h5",{staticClass:"tvl"},[t._v(" $ "),a("count-to",{attrs:{startVal:0,endVal:parseFloat(t.$filters.toFixed(t.allTVL,2)),decimals:2,duration:2e3,separator:","}})],1)])]),a("div",{staticClass:"farms-info"},[a("div",{staticClass:"farms-bet"},[a("span",[t._v(t._s(t.$t("LP总量")))]),a("b",[t._v(" $ "),a("count-to",{staticStyle:{color:"var(--yellow)"},attrs:{startVal:0,endVal:parseFloat(t.$filters.toFixed(t.totalTvl,2)),decimals:2,duration:2e3,separator:","}})],1)])]),a("div",{staticClass:"farms-cont"},[a("div",{staticClass:"table farms-table"},[a("table",[a("thead",[a("tr",[a("td",[t._v(t._s(t.$t("质押币种")))]),a("td",[t._v(t._s(t.$t("锁仓量")))]),a("td",[t._v(t._s(t.$t("年化收益率")))]),a("td",[t._v(t._s(t.$t("我的质押")))]),a("td",[t._v(t._s(t.$t("可领取收益")))]),a("td"),a("td"),a("td")])]),a("tbody",t._l(t.pools,(function(e,n){return a("tr",{key:n},[a("td",[a("em",{class:["ico-ico-"+e.icon]}),a("i",{class:["ico-ico-"+e.baseIcon]}),t._v(" "+t._s(e.name)+" ")]),a("td",[t._v("$ "),a("count-to",{staticStyle:{color:"#333333"},attrs:{startVal:0,endVal:parseFloat(t.$filters.toFixed(e.tvl,2)),decimals:2,duration:2e3,separator:","}})],1),a("td",[t._v(t._s(t._f("toFixed")(e.apy,4))+"%")]),a("td",[t._v(t._s(t._f("toFixed")(t._f("toAmount")(e.stake),4)))]),a("td",[t._v(t._s(t._f("toFixed")(t._f("toAmount")(e.income),4))+" MAST")]),a("td",[a("a",{staticClass:"btn",on:{click:function(a){return t.$router.push({path:"/stake",query:{pid:e.pid}})}}},[t._v(t._s(t.$t("挖矿"))+" "),a("shadow")])]),a("td",[a("a",{staticClass:"btn",attrs:{href:t.swapUrl(e),target:"_blank"},on:{click:function(t){t.stopPropagation()}}},[t._v(t._s(t.$t("交易"))+" "),a("shadow")])]),a("td",[a("a",{staticClass:"btn",attrs:{href:t.lpUrl(e),target:"_blank"},on:{click:function(t){t.stopPropagation()}}},[t._v(t._s(t.$t("添加流动性"))+" "),a("shadow")])])])})),0)])])])])])},i=[],s=a("c7eb"),r=a("3835"),o=a("1da1"),l=a("ade3"),u=(a("99af"),a("d3b7"),a("3ca3"),a("ddb0"),a("b680"),a("ec1b")),c=a.n(u),d=a("901e"),p=a.n(d),f={name:"farms",components:{"count-to":c.a},computed:{},watch:Object(l["a"])({},"$store.state.walletAddress",(function(){this.init()})),data:function(){return{totalTvl:"0",allTVL:"0",pools:[]}},methods:{lpUrl:function(t){if(t.token.toLowerCase()===this.$api.getReadConnect().addressInfo.lpTokens["BASS-USDT-LP"].toLowerCase())return"/#lp";if(4===this.$api.getReadConnect().addressInfo.chainId)return"https://app.uniswap.org/#/add/v2/".concat(t.baseToken,"/").concat(t.quoteToken);var e=this.$api.getReadConnect().addressInfo.tokens.BNB.toLowerCase(),a=function(t){return e===t.toLowerCase()?"BNB":t};return"https://pancakeswap.finance/add/".concat(a(t.baseToken),"/").concat(a(t.quoteToken))},swapUrl:function(t){if(4===this.$api.getReadConnect().addressInfo.chainId)return"https://app.uniswap.org/#/swap?use=V2&inputCurrency=".concat(t.baseToken,"&outputCurrency=").concat(t.quoteToken);var e=this.$api.getReadConnect().addressInfo.tokens.BNB.toLowerCase(),a=function(t){return e===t.toLowerCase()?"BNB":t};return"https://app.1inch.io/#/56/swap/".concat(a(t.baseToken),"/").concat(a(t.quoteToken))},init:function(){var t=arguments,e=this;return Object(o["a"])(Object(s["a"])().mark((function a(){var n,i,o,l,u,c;return Object(s["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=!(t.length>0&&void 0!==t[0])||t[0],n&&e.$loading.show(),a.prev=2,a.next=5,Promise.all([e.$api.getReadConnect().lpStake().getPoolInfos(e.$store.state.walletConnect?e.$store.state.walletAddress:""),e.$api.getReadConnect().stake("mast").getPoolInfoData(e.$store.state.walletAddress),e.$api.getReadConnect().stake("mgp").getPoolInfoData(e.$store.state.walletAddress)]);case 5:i=a.sent,o=Object(r["a"])(i,3),l=o[0],u=o[1],c=o[2],e.pools=l.pools,e.totalTvl=l.totalTvl,e.allTVL=new p.a(l.totalTvl).plus(u.totalTvl).plus(c.totalTvl).toFixed();case 14:return a.prev=14,n&&e.$loading.hide(),a.finish(14);case 17:case"end":return a.stop()}}),a,null,[[2,,14,17]])})))()},sync:function(){var t=this;this.timeId=setTimeout(Object(o["a"])(Object(s["a"])().mark((function e(){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.init(!1);case 3:return e.prev=3,t.sync(),e.finish(3);case 6:case"end":return e.stop()}}),e,null,[[0,,3,6]])}))),5e3)}},destroyed:function(){this.timeId&&clearTimeout(this.timeId)},created:function(){this.init(),this.sync()}},h=f,m=(a("68d1"),a("2877")),v=Object(m["a"])(h,n,i,!1,null,"2b00bd18",null);e["default"]=v.exports},"68d1":function(t,e,a){"use strict";a("2c67")},ec1b:function(t,e,a){!function(e,a){t.exports=a()}(0,(function(){return function(t){function e(n){if(a[n])return a[n].exports;var i=a[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var a={};return e.m=t,e.c=a,e.i=function(t){return t},e.d=function(t,a,n){e.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=2)}([function(t,e,a){var n=a(4)(a(1),a(5),null,null);t.exports=n.exports},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(3);e.default={props:{startVal:{type:Number,required:!1,default:0},endVal:{type:Number,required:!1,default:2017},duration:{type:Number,required:!1,default:3e3},autoplay:{type:Boolean,required:!1,default:!0},decimals:{type:Number,required:!1,default:0,validator:function(t){return t>=0}},decimal:{type:String,required:!1,default:"."},separator:{type:String,required:!1,default:","},prefix:{type:String,required:!1,default:""},suffix:{type:String,required:!1,default:""},useEasing:{type:Boolean,required:!1,default:!0},easingFn:{type:Function,default:function(t,e,a,n){return a*(1-Math.pow(2,-10*t/n))*1024/1023+e}}},data:function(){return{localStartVal:this.startVal,displayValue:this.formatNumber(this.startVal),printVal:null,paused:!1,localDuration:this.duration,startTime:null,timestamp:null,remaining:null,rAF:null}},computed:{countDown:function(){return this.startVal>this.endVal}},watch:{startVal:function(){this.autoplay&&this.start()},endVal:function(){this.autoplay&&this.start()}},mounted:function(){this.autoplay&&this.start(),this.$emit("mountedCallback")},methods:{start:function(){this.localStartVal=this.startVal,this.startTime=null,this.localDuration=this.duration,this.paused=!1,this.rAF=(0,n.requestAnimationFrame)(this.count)},pauseResume:function(){this.paused?(this.resume(),this.paused=!1):(this.pause(),this.paused=!0)},pause:function(){(0,n.cancelAnimationFrame)(this.rAF)},resume:function(){this.startTime=null,this.localDuration=+this.remaining,this.localStartVal=+this.printVal,(0,n.requestAnimationFrame)(this.count)},reset:function(){this.startTime=null,(0,n.cancelAnimationFrame)(this.rAF),this.displayValue=this.formatNumber(this.startVal)},count:function(t){this.startTime||(this.startTime=t),this.timestamp=t;var e=t-this.startTime;this.remaining=this.localDuration-e,this.useEasing?this.countDown?this.printVal=this.localStartVal-this.easingFn(e,0,this.localStartVal-this.endVal,this.localDuration):this.printVal=this.easingFn(e,this.localStartVal,this.endVal-this.localStartVal,this.localDuration):this.countDown?this.printVal=this.localStartVal-(this.localStartVal-this.endVal)*(e/this.localDuration):this.printVal=this.localStartVal+(this.localStartVal-this.startVal)*(e/this.localDuration),this.countDown?this.printVal=this.printVal<this.endVal?this.endVal:this.printVal:this.printVal=this.printVal>this.endVal?this.endVal:this.printVal,this.displayValue=this.formatNumber(this.printVal),e<this.localDuration?this.rAF=(0,n.requestAnimationFrame)(this.count):this.$emit("callback")},isNumber:function(t){return!isNaN(parseFloat(t))},formatNumber:function(t){t=t.toFixed(this.decimals),t+="";var e=t.split("."),a=e[0],n=e.length>1?this.decimal+e[1]:"",i=/(\d+)(\d{3})/;if(this.separator&&!this.isNumber(this.separator))for(;i.test(a);)a=a.replace(i,"$1"+this.separator+"$2");return this.prefix+a+n+this.suffix}},destroyed:function(){(0,n.cancelAnimationFrame)(this.rAF)}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(0),i=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=i.default,"undefined"!=typeof window&&window.Vue&&window.Vue.component("count-to",i.default)},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=0,i="webkit moz ms o".split(" "),s=void 0,r=void 0;if("undefined"==typeof window)e.requestAnimationFrame=s=function(){},e.cancelAnimationFrame=r=function(){};else{e.requestAnimationFrame=s=window.requestAnimationFrame,e.cancelAnimationFrame=r=window.cancelAnimationFrame;for(var o=void 0,l=0;l<i.length&&(!s||!r);l++)o=i[l],e.requestAnimationFrame=s=s||window[o+"RequestAnimationFrame"],e.cancelAnimationFrame=r=r||window[o+"CancelAnimationFrame"]||window[o+"CancelRequestAnimationFrame"];s&&r||(e.requestAnimationFrame=s=function(t){var e=(new Date).getTime(),a=Math.max(0,16-(e-n)),i=window.setTimeout((function(){t(e+a)}),a);return n=e+a,i},e.cancelAnimationFrame=r=function(t){window.clearTimeout(t)})}e.requestAnimationFrame=s,e.cancelAnimationFrame=r},function(t,e){t.exports=function(t,e,a,n){var i,s=t=t||{},r=typeof t.default;"object"!==r&&"function"!==r||(i=t,s=t.default);var o="function"==typeof s?s.options:s;if(e&&(o.render=e.render,o.staticRenderFns=e.staticRenderFns),a&&(o._scopeId=a),n){var l=Object.create(o.computed||null);Object.keys(n).forEach((function(t){var e=n[t];l[t]=function(){return e}})),o.computed=l}return{esModule:i,exports:s,options:o}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",[t._v("\n  "+t._s(t.displayValue)+"\n")])},staticRenderFns:[]}}])}))}}]);